(function(){var a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E=function(a,b){return function(){return a.apply(b,arguments)}},F=[].indexOf||function(a){for(var b=0,c=this.length;c>b;b++)if(b in this&&this[b]===a)return b;return-1};angular.module("apps",[]).run(["wsapiRestSecurity",function(a){return a.initToken()}]).provider("appsEnvironment",function(){var a;return a={baseUrl:"https://test17cluster.rallydev.com/",project:3206152153,projectScopeUp:!1,projectScopeDown:!1,storyTypeOid:41529127,defectTypeOid:41529147},{$get:function(){return a},setEnvironment:function(){}}}).controller("AppCtrl",["$rootScope",function(a){return window.$rootScope=a,window.getScopeCount=function(a,b){var c;return null==b&&(b={}),a&&void 0===b[a.$id]?(c=0,a.$$watchers&&(c+=a.$$watchers.length),b[a.$id]=c,c+=getScopeCount(a.$$childHead,b),c+=getScopeCount(a.$$nextSibling,b)):0}}]),angular.module("apps.kanban.controllers.app",[]).controller("KanbanAppCtrl",h=function(){function a(){}return a}()),angular.module("apps.kanban.controllers.card",[]).controller("KanbanCardCtrl",i=function(){function a(a,b,c){var d;this.card=a.$eval(b.ngModel),this.column=a.$eval(b.column),this.card.formattedId=this.card.FormattedID,this.card.name=this.card.Name,this.card.ownerName=null!=(d=this.card.Owner)?d._refObjectName:void 0,this.card.type=this.card._type.toLowerCase(),this.card.DisplayColor&&(this.card.color=this.card.DisplayColor),this.card.displayFields=this.column.displayFields,this.card.avatarUrl=this.card.Owner?""+c.baseUrl+"slm/profile/image/"+this.card.Owner.ObjectID+"/50.sp":""+c.baseUrl+"slm/js-lib/rui/builds/rui/resources/themes/images/default/cardboard/no-owner.png"}return a.$inject=["$scope","$attrs","appsEnvironment"],a}()),angular.module("apps.kanban.controllers.cardboard",[]).controller("KanbanCardboardCtrl",j=function(){function a(a,b,c,d,e,f){var g=this;this.cmp={$className:"KanbanCardboardCtrl"},this.loadedColumns=0,e.publish(f.loadBegin,{component:this.cmp,description:"Angular Cardboard loading"}),this.columns=[{title:"On Deck",scheduleState:"",id:0,wip:0},{title:"Ready To Pull",scheduleState:"",id:1,wip:5},{title:"Test Planning",scheduleState:"",id:5,wip:2},{title:"In Dev",scheduleState:"",id:2,wip:3},{title:"Accepted",scheduleState:"",id:3,wip:0},{title:"Released",scheduleState:"",id:4,wip:0}],a.$on("columnrendered",function(a,b){return g.loadedColumns++,console.log(""+b.title+": rendered"),g.loadedColumns===g.columns.length?e.publish(f.loadEnd,{component:g.cmp}):void 0}),this.sortableOptions=d.sortableOptions}return a.prototype.ready=!1,a.$inject=["$scope","$timeout","$resource","wsapiRestSort","PubSub","rui.metrics.messages"],a}()),w=angular.module("apps.kanban.controllers.column",["rui.metrics.messages"]),w.controller("KanbanColumnCtrl",k=function(){function a(a,b,c,d,e){var f,g=this;this.$scope=a,this.$attrs=b,this.kanbanColumnService=c,this.PubSub=d,this.wsapiMetricsMessages=e,this.cmp={$className:"KanbanColumnCtrl"},this.PubSub.publish(this.wsapiMetricsMessages.loadBegin,{component:this.cmp,description:"Angular Column loading"}),this.cardsRendered=0,f=a.$eval(this.$attrs.ngModel),this.cards=[],this.column=f,this.displayFields=["name"],c.getColumn(f.title).then(function(a){return g.cards=a,g.cards.column=g.column,0===g.cards.length&&g.columnRendered(),g.$scope.$on("cardrendered",function(a,b){return g.cardsRendered++,console.log(""+b.formattedId+": rendered"),g.columnRendered()})})}return a.$inject=["$scope","$attrs","kanbanColumnService","PubSub","wsapi.metrics.messages"],a.prototype.columnRendered=function(){return this.PubSub.publish(this.wsapiMetricsMessages.loadEnd,{component:this.cmp}),this.cardsRendered===this.cards.length?this.$scope.$emit("columnrendered",this.column):void 0},a}()),angular.module("apps.kanban",["apps","apps.templates","rui.cardboard","rui.quickmenu","apps.kanban.controllers.app","apps.kanban.controllers.cardboard","apps.kanban.controllers.column","apps.kanban.controllers.card","apps.kanban.services.column","wsapi.rest.artifact","wsapi.rest.sort","rui.sortable","ui.sortable"]),angular.module("apps.kanban.services.column",["wsapi.metrics.messages","rui.pubsub"]).service("kanbanColumnService",l=function(){function a(a,b,c,d,e){this.$q=a,this.wsapiRestArtifact=b,this.appsEnvironment=c,this.PubSub=d,this.wsapiMetricsMessages=e,this.types=[]}var b;return b=!1,a.prototype.cachedColumns={},a.prototype.className="kanbanColumnService",a.$inject=["$q","wsapiRestArtifact","appsEnvironment","PubSub","wsapi.metrics.messages"],a.prototype.setTypes=function(a){this.types=a},a.prototype.getColumns=function(){var a,b,c=this;return b={requester:{$className:"kanbanColumnService"},component:{$className:"kanbanColumnService"}},this.columns?this.columns.promise:(this.columns=this.$q.defer(),a=this.wsapiRestArtifact({pagesize:200,types:"HierarchicalRequirement,Defect",order:"DragAndDropRank ASC,ObjectID",fetch:"DragAndDropRank,c_KanbanState,ObjectID,Project,Workspace,RevisionHistory,CreationDate,Name,Discussion:summary,LatestDiscussionAgeInMinutes,Defects:summary[State;Owner],DefectStatus,FormattedID,Owner,BlockedReason,PlanEstimate,PortfolioItem,Blocked,Ready,Tags,DisplayColor",query:"((((TypeDefOid = "+this.appsEnvironment.storyTypeOid+') AND (c_KanbanState != "")) AND (DirectChildrenCount = 0)) OR ((TypeDefOid = '+this.appsEnvironment.defectTypeOid+') AND (c_KanbanState != "")))'}),this.PubSub.publish(this.wsapiMetricsMessages.dataBegin,{},b),a.query(function(a){return c.PubSub.publish(c.wsapiMetricsMessages.dataEnd,{},a,b),c.columns.resolve(a.QueryResult.Results)}),this.columns.promise)},a.prototype.getColumn=function(a){var c,d,e,f=this;return e={requester:{$className:"kanbanColumnService"},component:{$className:"kanbanColumnService"}},b?this.getColumns().then(function(b){return _.filter(b,function(b){return b.c_KanbanState===a})}):(d=this.$q.defer(),this.cachedColumns[a]?d.resolve(this.cachedColumns[a]):(c=this.wsapiRestArtifact({types:"HierarchicalRequirement,Defect",order:"DragAndDropRank ASC,ObjectID",fetch:"DragAndDropRank,c_KanbanState,ObjectID,Project,Workspace,RevisionHistory,CreationDate,Name,Discussion:summary,LatestDiscussionAgeInMinutes,Defects:summary[State;Owner],DefectStatus,FormattedID,Owner,BlockedReason,PlanEstimate,PortfolioItem,Blocked,Ready,Tags,DisplayColor",query:"((((TypeDefOid = "+this.appsEnvironment.storyTypeOid+') AND (c_KanbanState = "'+a+'")) AND (DirectChildrenCount = 0)) OR ((TypeDefOid = '+this.appsEnvironment.defectTypeOid+') AND (c_KanbanState = "'+a+'")))'}),this.PubSub.publish(this.wsapiMetricsMessages.dataBegin,{},e),c.query(function(b){return f.PubSub.publish(f.wsapiMetricsMessages.dataEnd,{},b,e),console.log(b),f.cachedColumns[a]=b.QueryResult.Results,d.resolve(f.cachedColumns[a])})),d.promise)},a}()),angular.module("apps.templates",[]),q=angular.module("rui.cardboard",["rui.templates","rui.cardboard.directives.cardboard","rui.cardboard.directives.column","rui.cardboard.directives.card","rui.cardboard.directives.columnscrollable","rui.cardboard.directives.columnscrollbars","rui.cardboard.filters.wip"]),angular.module("rui.cardboard.controllers.cardboard",[]).controller("rui.cardboard.controllers.cardboard",a=function(){function a(a){this.$timeout=a,this.columns=[],this.columnWidth=0}return a.$inject=["$timeout"],a.prototype._adjustColumns=function(){var a=this;return this.columnWidth=100/this.columns.length,angular.forEach(this.columns,function(b){return b.width=""+a.columnWidth+"%"})},a.prototype.addColumn=function(a){var b=this;return this.columns.push(a),a.cardboard=this,this.adjustTimer&&this.$timeout.cancel(this.adjustTimer),this.adjustTimer=this.$timeout(function(){return b._adjustColumns()})},a.prototype.removeColumn=function(a){return this.columns=_.filter(this.columns,function(b){return b!==a})},a}()),angular.module("rui.cardboard.controllers.column",[]).controller("rui.cardboard.controllers.column",b=function(){function a(a){this.$scope=a}return a.$inject=["$scope"],a.prototype.addCard=function(a){return a.column=this},a.prototype.removeCard=function(){},a}()),angular.module("rui.cardboard.controllers.columnscrollable",[]).controller("rui.cardboard.controllers.columnscrollable",c=function(){function a(a,b){this.scrollLeft=E(this.scrollLeft,this),this.scrollRight=E(this.scrollRight,this);var c,d,e=this;d=b.ruiColumnScrollable,b.numColumns&&(this.numColumns=+b.numColumns),c=a.$eval(d),(null!=c?c.length:void 0)&&this.initColumns(c),this.columnsWatchListener=a.$watch(""+d+".length",function(b,c){return(void 0===c||b>c)&&e.initColumns(a.$eval(d)),void 0===c||c>b?e.columnsWatchListener():void 0})}return a.prototype.currentIndex=0,a.prototype.scrollableColumns=[],a.prototype.numColumns=3,a.prototype.columns=[],a.$inject=["$scope","$attrs"],a.prototype.initColumns=function(a){return this.columns=a,this.scrollableColumns=[].concat(this.columns),this.scrollColumns()},a.prototype.scrollRight=function(){return this.currentIndex++,this.scrollColumns()},a.prototype.scrollLeft=function(){return this.currentIndex--,this.scrollColumns()},a.prototype.scrollColumns=function(){var a=this;return this.columns.length=0,_.each(this.scrollableColumns.slice(this.currentIndex,this.currentIndex+this.numColumns),function(b,c){return a.columns.push(b),b.visible=!0,b.scrollRight=a.scrollRight,b.scrollLeft=a.scrollLeft,b.canScrollLeft=0===c&&a.columns[0]!==a.scrollableColumns[0]?!0:!1,b.canScrollRight=c===a.numColumns-1&&a.columns[a.numColumns-1]!==a.scrollableColumns[a.scrollableColumns.length-1]?!0:!1,!0})},a}()),p=angular.module("rui.cardboard.directives.card",["rui.cardboard.directives.column","rui.cardboard.directives.cardboard"]),p.directive("ruiCard",function(){return{restrict:"EA",transclude:!0,replace:!0,require:["^ruiCardboard","^ruiColumn","ngModel"],templateUrl:"rui/cardboard/template/rui-card.html",compile:function(){return function(a,b,c,d){var e,f,g;return e=d[0],f=d[1],g=d[2],p=a.$eval(c.ngModel),a.model=p,p.fields=_.map(p.displayFields,function(b){var c;return void 0!==p[b]?c={name:b,value:a.model[b]}:void 0}),c.color&&a.$watch(c.color,function(a){return b.find(".card-color").css("background-color",a)}),f.addCard(a),a.$emit("cardrendered",p)}}}}),q=angular.module("rui.cardboard.directives.cardboard",["rui.cardboard.controllers.cardboard"]),q.directive("ruiCardboard",function(){return{restrict:"EA",controller:"rui.cardboard.controllers.cardboard",compile:function(a){return a.addClass("rui-cardboard"),function(){}}}}),r=angular.module("rui.cardboard.directives.column",["rui.cardboard.controllers.column","rui.cardboard.directives.cardboard"]),r.directive("ruiColumn",function(){return{restrict:"EA",transclude:!0,require:["^ruiCardboard","ngModel"],replace:!0,templateUrl:"rui/cardboard/template/rui-column.html",controller:"rui.cardboard.controllers.column",compile:function(a,b,c){return function(a,b,d,e){var f,g;return f=e[0],g=e[1],a.model=a.$eval(d.ngModel),f.addColumn(a),b.on("$destroy",function(){return f.removeColumn(a)}),c(a,function(a){return b.append(a)})}}}}),s=angular.module("rui.cardboard.directives.columnscrollable",["rui.cardboard.controllers.columnscrollable"]),s.directive("ruiColumnScrollable",function(){return{restrict:"A",priority:1e5,controller:"rui.cardboard.controllers.columnscrollable"}}),t=angular.module("rui.cardboard.directives.columnscrollbars",["rui.cardboard.directives.column"]),t.directive("ruiColumnScrollbars",function(){return{restrict:"A",require:["ngModel","^ruiColumn"],templateUrl:"rui/cardboard/template/rui-column-scrollbars.html",compile:function(){return function(a,b,c,d){var e,f;return f=d[0],e=d[1],a.model=a.$eval(c.ngModel)}}}}),angular.module("rui.cardboard.filters.wip",[]).filter("wip",function(){return function(a){return 0===a?"âˆž":a}}),angular.module("rui.dropdown.directives.controllers.dropdown",[]).controller("DropdownCtrl",d=function(){function a(a){this.$scope=a,this.onBlur=E(this.onBlur,this),this.toggleOpen=E(this.toggleOpen,this),this.select=E(this.select,this),this.$dropdown=this.$scope.$dropdown=this.$scope.$new(),this.$dropdown.isDisabled=!1,this.$dropdown.isOpen=!1,this.$dropdown.toggleOpen=this.toggleOpen,this.$dropdown.onBlur=this.onBlur}return a.$inject=["$scope"],a.prototype.select=function(a){return this.$dropdown.isDisabled?!1:(this.$dropdown.selected=a,this.toggleOpen(!1),!0)},a.prototype.toggleOpen=function(a){return null==a&&(a=!this.$dropdown.isOpen),this.$dropdown.isOpen=a},a.prototype.onBlur=function(){return this.$dropdown.isOpen=!1},a}()),angular.module("rui.dropdown.directives.controllers.item",[]).controller("ItemCtrl",g=function(){function a(a){this.$scope=a,this.select=E(this.select,this),this.$dropdownItem=this.$scope.$dropdownItem=this.$scope.$new(),this.$dropdownItem.isSelected=!1,this.$dropdownItem.select=this.select,this.$dropdownItem.value=null}return a.$inject=["$scope"],a.prototype.select=function(){return this.$dropdownItem.isDisabled?void 0:this.$dropdownItem.isSelected=this.$dropdownItem.selectItem(this.$dropdownItem.value)},a}()),w=angular.module("rui.dropdown.directives.dropdown",["rui.dropdown.directives.controllers.dropdown"]).directive("ruiDropdown",[function(){return{restrict:"EA",controller:"DropdownCtrl",require:["ngModel"],transclude:"true",scope:!0,replace:!0,templateUrl:"rui/dropdown/templates/dropdown.html",compile:function(a,b,c){return a.addClass("rui-dropdown"),a.attr("tabindex")||a.attr("tabindex",0),function(a,b,d,e){var f;return f=e[0],a.$watch("$dropdown.isOpen",function(a){return a?$(b).focus():void 0}),$(b).blur(function(b){return a.$apply(function(){return a.$dropdown.onBlur(b)})}),d.$observe("disabled",function(b){return a.$dropdown.isDisabled=b}),a.$watch("$dropdown.selected",function(a){return f.$setViewValue(a)}),a.$watch(function(){return f.$modelValue},function(b){return a.$dropdown.value=b}),c(a,function(a){var c,d;return d=$(".rui-dropdown-label-container",b),d.addClass("rui-dropdown-label"),d.append($(a).filter(".rui-dropdown-label, [rui-dropdown-label]")),c=$(a).filter(".rui-dropdown-menu, [rui-dropdown-menu]"),c.addClass("rui-dropdown-menu"),b.append(c)})}}}}]),u=angular.module("rui.dropdown.directives.item",["rui.dropdown.directives.controllers.item"]).directive("ruiDropdownItem",[function(){return{restrict:"EA",controller:"ItemCtrl",require:["ngModel","^ruiDropdown"],transclude:"true",scope:!0,replace:!0,templateUrl:"rui/dropdown/templates/dropdown-item.html",compile:function(a,b,c){return a.addClass("rui-dropdown-item"),function(a,b,d,e){var f,g;return g=e[0],f=e[1],a.$watch(function(){return g.$modelValue},function(b){return a.$dropdownItem.value=b}),a.$dropdownItem.selectItem=f.select,f.$dropdown.$watch("selected",function(b){return a.$dropdownItem.isSelected=b===a.$dropdownItem.value}),d.$observe("disabled",function(b){return a.$dropdownItem.isDisabled=b}),c(a,function(a){return b.append(a)})}}}}]),u=angular.module("rui.dropdown",["rui.templates","rui.dropdown.directives.dropdown","rui.dropdown.directives.item"]),angular.module("rui.highcharts.directives.controllers.highcharts",[]).controller("HighchartsCtrl",e=function(){function a(a,b){this.$scope=a,this.Highcharts=b,this._onEvent=E(this._onEvent,this),this.hideSeries=E(this.hideSeries,this),this.$scope.$highcharts=this.$scope.$new(),this.$scope.$highcharts.hideSeries=this.hideSeries}var b;return b=["load","click","redraw","selection"],a.$inject=["$scope","Highcharts"],a.prototype.hideSeries=function(a){var b;return null!=(b=this.$scope.$highcharts.chart.series[a])?b.hide():void 0},a.prototype.initHighcharts=function(a,c){var d,e,f,g,h;for(null==c&&(c={}),this.events=null!=c?null!=(h=c.chart)?h.events:void 0:void 0,d={chart:{renderTo:a[0],events:{}}},f=0,g=b.length;g>f;f++)e=b[f],d.chart.events[e]=this._onEvent(e);return c=_.merge(c,d),this.$scope.$highcharts.chart=new this.Highcharts.Chart(c),this.$scope.$highcharts.chart},a.prototype._onEvent=function(a){var b=this;return function(c){var d,e;return null!=(d=b.events)&&null!=(e=d[a])&&e.apply(b.highcharts,arguments),b.$scope.$broadcast("chart:"+a,c),b.$scope.$$phase?void 0:b.$scope.$digest()}},a}()),angular.module("rui.highcharts.directives.controllers.html",[]).controller("HighchartsHtmlCtrl",f=function(){function a(a){this.$scope=a,this.$scope.$highchartsHtml=this.$scope.$new()}return a.$inject=["$scope"],a}()),v=angular.module("rui.highcharts.directives.highcharts",["rui.highcharts.directives.controllers.highcharts","rui.highcharts.factories.highcharts"]).directive("ruiHighcharts",[function(){return{restrict:"EA",controller:"HighchartsCtrl",require:["?ngModel","ruiHighcharts"],transclude:!0,scope:!0,replace:!0,templateUrl:"rui/highcharts/templates/highcharts.html",compile:function(a,b,c){return a.addClass("rui-highcharts"),function(a,b,d,e){var f,g,h,i,j;return h=e[0],g=e[1],i=a.$eval(d.highchartsConfig),j=$(".rui-highcharts-container",b),f=g.initHighcharts(j,i),null!=h&&h.$setViewValue(f),c(a,function(a){return $(".rui-highcharts-html-container",b).append(a)})}}}}]),angular.module("rui.highcharts.directives.html",["rui.highcharts.directives.controllers.highcharts","rui.highcharts.directives.controllers.html"]).directive("ruiHighchartsHtml",[function(){return{restrict:"EA",transclude:!1,require:["^ruiHighcharts"],controller:"HighchartsHtmlCtrl",scope:!0,compile:function(a){return a.addClass("rui-highcharts-html"),function(a,b,c,d){var e;return e=d[0],a.$highcharts=e.$scope.$highcharts}}}}]),v=angular.module("rui.highcharts.factories.highcharts",[]).factory("Highcharts",function(){return Highcharts}),v=angular.module("rui.highcharts",["rui.templates","rui.highcharts.directives.highcharts","rui.highcharts.directives.html","rui.highcharts.factories.highcharts"]),angular.module("rui.quickmenu.directives.quickmenu",[]).directive("ruiQuickmenu",function(){return{restrict:"EA",scope:{items:"="},templateUrl:"rui/menu/quickmenu/template/rui-quickmenu.html",compile:function(a){return a.addClass("rui-quickmenu"),function(a,b){return a.$watch("items.length",function(a){return b.width(26*a)})}}}}),angular.module("rui.quickmenu",["rui.quickmenu.directives.quickmenu"]),angular.module("rui.pubsub",[]).service("PubSub",m=function(){function a(a){this.$rootScope=a}return a.prototype.subscribe=function(a,b){return console.log("subscribe:",a,b),this.$rootScope.$on(a,b)},a.prototype.publish=function(a,b){var c;return console.log("publish:",a,b),this.$rootScope.$emit(a,b),"undefined"!=typeof Rally&&null!==Rally?null!=(c=Rally.environment)?c.getMessageBus().publish.apply(Rally.environment.getMessageBus(),arguments):void 0:void 0},a}()),x=angular.module("rui",["rui.sortable","rui.highcharts","rui.dropdown","rui.tabs","rui.util"]),angular.module("rui.sortable",[]).value("ruiSortableConfig",{}).directive("ruiSortable",["ruiSortableConfig",function(a){return{require:"?ngModel",link:function(b,c,d,e){var f,g,h,i,j,k;return k=angular.extend({},a,b.$eval(d.ruiSortable)),e&&(e.$render=function(){return c.sortable("refresh")},h=function(a,b){return b.item.sortable={startIndex:b.item.index(),startModel:e}},j=function(a,b){return b.item.sortable.resort=e},f=function(a,b){return b.item.sortable.relocate=!0,e.$modelValue.splice(b.item.index(),0,b.item.sortable.moved)},g=function(a,b){return b.item.sortable.moved=1===e.$modelValue.length?e.$modelValue.splice(0,1)[0]:e.$modelValue.splice(b.item.sortable.startIndex,1)[0]},i=function(a,c){var d,e;return c.item.sortable.resort&&(c.item.sortable.endIndex=c.item.index(),c.item.sortable.endModel=c.item.sortable.resort),c.item.sortable.resort&&!c.item.sortable.relocate&&(e=c.item.sortable.startIndex,d=c.item.sortable.endIndex,c.item.sortable.resort.$modelValue.splice(d,0,c.item.sortable.resort.$modelValue.splice(e,1)[0])),c.item.sortable.resort||c.item.sortable.relocate?b.$apply():void 0},k.start=function(a){return function(b,c){return h(b,c),"function"==typeof a?a(b,c):void 0}}(k.start),k.stop=function(a){return function(b,c){return i(b,c),"function"==typeof a?a(b,c):void 0}}(k.stop),k.update=function(a){return function(b,c){return j(b,c),"function"==typeof a?a(b,c):void 0}}(k.update),k.receive=function(a){return function(b,c){return f(b,c),"function"==typeof a?a(b,c):void 0}}(k.receive),k.remove=function(a){return function(b,c){return g(b,c),"function"==typeof a?a(b,c):void 0}}(k.remove)),c.sortable(k)}}}]),angular.module("rui.tabs.directives.controllers.tab",[]).controller("TabCtrl",n=function(){function a(a){var b=this;return this.$scope=a,this.headingClasses=E(this.headingClasses,this),this.select=E(this.select,this),this.$tab=this.$scope.$tab=this.$scope.$new(),this.$tab.model={},this.$tab.select=this.select,this.$tab.headingClasses=this.headingClasses,this.$tab.contentClasses=this.headingClasses,this.$tabset=this.$scope.$tabset,this.$tabset.registerTab(this.$tab.model),this.$tabset.$watch("state.activeTab",function(a){return b.$tab.model.isActive=a===b.$tab.model}),this}return a.$inject=["$scope"],a.prototype.select=function(){return this.$tab.model.isActive=this.$tab.selectTab(this.$tab.model)},a.prototype.headingClasses=function(){return{active:this.$tab.model.isActive}},a}()),angular.module("rui.tabs.directives.controllers.tabset",[]).controller("TabsetCtrl",n=function(){function a(a,b){return this.$scope=a,this.$transclude=b,this.registerTab=E(this.registerTab,this),this.select=E(this.select,this),this.$tabset=this.$scope.$tabset=this.$scope.$new(),this.$tabset.state={},this.$tabset.registerTab=this.registerTab,this}return a.$inject=["$scope","$transclude"],a.prototype.select=function(a){return this.$tabset.state.activeTab=a,!0},a.prototype.registerTab=function(a){return this.$tabset.state.activeTab?void 0:this.select(a)},a}()),y=angular.module("rui.tabs.directives.tab",["rui.tabs.directives.controllers.tab"]).directive("ruiTab",[function(){return{restrict:"EA",require:["?ngModel","^ruiTabset"],controller:"TabCtrl",scope:!0,link:{post:function(a,b,c,d){var e,f,g,h,i,j;return i=d[0],j=d[1],f=$(b),g=f.children(".rui-tab-heading, [rui-tab-heading]"),e=f.children(".rui-tab-content, [rui-tab-content]"),h=f.parents(".rui-tabset"),h.find("ul.nav-tabs").append(g),h.find(".tab-content").append(e),a.$tab.selectTab=j.select,this}}}}]),y=angular.module("rui.tabs.directives.tabContent",[]).directive("ruiTabContent",[function(){return{restrict:"EA",transclude:!0,replace:!0,scope:!0,templateUrl:"rui/tabs/templates/tab-content.html",link:function(){return this}}}]),z=angular.module("rui.tabs.directives.tabHeading",[]).directive("ruiTabHeading",[function(){return{restrict:"EA",transclude:!0,replace:!0,scope:!0,require:["?^ngModel","^ruiTab"],templateUrl:"rui/tabs/templates/tab-heading.html",link:function(a,b,c,d){var e,f;return e=d[0],f=d[1],a.$tabHeading=a.$new(),a.$tabHeading.select=f.select,a.$tabHeading.headingClasses=f.headingClasses,this}}}]),z=angular.module("rui.tabs.directives.tabset",["rui.tabs.directives.controllers.tabset"]).directive("ruiTabset",[function(){return{restrict:"EA",require:["?ngModel"],transclude:!0,scope:!0,replace:!0,templateUrl:"rui/tabs/templates/tabset.html",controller:"TabsetCtrl",link:{post:function(a,b,c,d){var e;return e=d[0],this}}}}]),w=angular.module("rui.tabs",["rui.templates","rui.util.transclude","rui.tabs.directives.tabset","rui.tabs.directives.tab","rui.tabs.directives.tabHeading","rui.tabs.directives.tabContent"]),angular.module("rui.templates",[]),angular.module("rui.test.phantom",[]).run(["$log",function(a){var b;return a.debug("Initializing native click events"),b=function(a){var b,c;return b=this.ownerDocument,c=b.createEvent("MouseEvents"),c.initMouseEvent(a,!0,!0,b.defaultView,1,0,0,0,0,!1,!1,!1,!1,0,null),this.dispatchEvent(c)},$.fn.nativeMouseEvent=function(a){return this.each(function(){return b.apply(this,[a])})},$.fn.nativeClick=function(){return this.each(function(){var a;return a=!1,F.call(document,a)>=0&&this.click(),b.apply(this,["click"])})}}]),angular.module("rui.util.transclude.directives.controllers.transclude",[]).controller("TranscludeCtrl",o=function(){function a(a,b,c){if(this.$scope=a,this.$transclude=b,this.$window=c,this.transclude=E(this.transclude,this),this.filter=E(this.filter,this),!this.$transclude)throw"ruiTransclude:orphan,\nIllegal use of ruiTransclude directive in the template!\nNo parent directive that requires a transclusion found.\nElement: {#$element}\n"}return a.$inject=["$scope","$transclude","$window"],a.prototype.filter=function(a,b){var c,d,e,f;return c=$(a),d=c.filter(b),e=[],_.each(d,function(b){var d,f;return d=$(b),d.hasClass("rui-transclude-meta")&&(f=c.index(d),b=_.find(a,function(a,b){return b>f&&3!==a.nodeType})),e.push(b)}),f=_.sortBy(e,function(b){return _.indexOf(a,b)})},a.prototype.transclude=function(a,b,c){var d,e=this;return null==c&&(c=!0),d=function(d){var f;if(f=b?e.filter(d,b):d,c&&!f.length>0)throw"ruiTransclude:empty,\n  Illegal use of ruiTransclude. Can't find elements to transclude in the clone.\n  Maybe you're using directives that result in virtual elements like ng-repeat or ng-if? If so, try \n  using an element wrapper or comment before the node (<!-- directive: rui-transclude-class myClass -->) to\n  tell rui-transclude what to pull.\n  Element: "+a+"\n  Filter: "+b+"\n";return a.html(""),a.append(f)},this.$transclude(this.$scope,d)},a}()),A=angular.module("rui.util.transclude.directives.attribute",[]).directive("ruiTranscludeAttr",[function(){return{restrict:"M",templateUrl:"rui/util/transclude/templates/transclude-meta.html",replace:!0,compile:function(){return{post:function(){},pre:function(a,b){return b.remove()}}}}}]),A=angular.module("rui.util.transclude.directives.class",[]).directive("ruiTranscludeClass",["$compile",function(){return{restrict:"M",templateUrl:"rui/util/transclude/templates/transclude-meta.html",transclude:"element",replace:!0,compile:function(a,b){return a.addClass(b.ruiTranscludeClass),{post:function(){},pre:function(a,b){return b.remove()}}}}}]),w=angular.module("rui.util.transclude.directives.transclude",["rui.util.transclude.directives.controllers.transclude"]).directive("ruiTransclude",["$timeout",function(){return{restrict:"A",controller:"TranscludeCtrl",link:{post:function(a,b,c,d){var e,f;return e=c.ruiTransclude,null==e&&(e=e.trim()),("rui-transclude"===(null!=e)||""===(null!=e))&&(e=null),f=null!=c.ruiTranscludeOptional?!1:!0,a.$evalAsync(function(){return d.transclude(b,e,f)})}}}}]),A=angular.module("rui.util.transclude",["rui.templates","rui.util.transclude.directives.transclude","rui.util.transclude.directives.class","rui.util.transclude.directives.attribute"]),B=angular.module("rui.util",["rui.util.transclude"]),angular.module("wsapi.metrics.messages",[]).value("wsapi.metrics.messages",{startSession:"rally.clientmetrics.message.startsession",action:"rally.clientmetrics.message.action",loadBegin:"rally.clientmetrics.message.loadbegin",loadEnd:"rally.clientmetrics.message.loadend",error:"rally.clientmetrics.message.error",dataBegin:"rally.clientmetrics.message.dataBegin",dataEnd:"rally.clientmetrics.message.dataEnd"}),angular.module("wsapi.rest.artifact",["ngResource","wsapi.rest.security"]).factory("wsapiRestArtifact",["$resource","appsEnvironment","wsapiRestSecurity",function(a,b,c){return function(d){return a(""+b.baseUrl+"slm/webservice/v2.x/:type/:id",angular.extend({type:"artifact",project:"/project/"+b.project,projectScopeUp:b.projectScopeUp,projectScopeDown:b.projectScopeDown,jsonp:"JSON_CALLBACK"},d),{query:{method:"JSONP"},post:{method:"JSONP",params:{key:c.getToken(),_method:"POST"}}})}}]),angular.module("wsapi.rest.security",[]).service("wsapiRestSecurity",C=function(){function a(a,b){this.$http=a,this.appsEnvironment=b}return a.prototype.token="",a.$inject=["$http","appsEnvironment"],a.prototype.getToken=function(){return this.token},a.prototype.initToken=function(){var a=this;return this.token=angular.element("meta[name=SecurityToken]").attr("content"),this.token?void 0:this.$http({url:""+this.appsEnvironment.baseUrl+"slm/webservice/v2.x/security/authorize",method:"JSONP",params:{jsonp:"JSON_CALLBACK"}}).then(function(b){return a.token=b.data.OperationResult.SecurityToken})},a}()),angular.module("wsapi.rest.sort",["wsapi.rest.artifact"]).service("wsapiRestSort",D=function(){function a(a,b){this.wsapiRestArtifact=a,this.wsapiRestSecurity=b,this.stop=E(this.stop,this),this.sortableOptions={connectWith:".column-content",placeholder:"card-placeholder",stop:this.stop}}return a.$inject=["wsapiRestArtifact"],a.prototype.stop=function(a,b){var c,d,e,f,g,h,i,j;return f=b.item.sortable.endIndex,void 0!==f?(g=b.item.sortable.endModel.$modelValue,p=g[f],f>0?(i=-1,j="rankBelow"):(i=1,j="rankAbove"),h=g[f+i],d={},d[p._type]={c_KanbanState:g.column.title},e={type:p._type,id:p.ObjectID,artifact:d},h&&(e[j]=""+h.type+"/"+h.ObjectID),c=this.wsapiRestArtifact(),c.post(e)):void 0},a}())}).call(this),angular.module("apps").run(["$templateCache",function(a){a.put("apps/kanban/kanban.html",'<div class=apps-kanban ng-controller=KanbanAppCtrl><div rui-cardboard="" ng-controller="KanbanCardboardCtrl as kanbanBoard"><div rui-column="" ng-repeat="column in kanbanBoard.columns" rui-column-scrollable=kanbanBoard.columns num-columns=4 ng-controller="KanbanColumnCtrl as kanbanColumn" ng-class="{\'over-capacity\': column.wip > 0 && cards.length > column.wip}" ng-model=column><div class=column-header><div rui-column-scrollbars="" ng-model=column></div><h3 class=title>{{kanbanColumn.column.title}}</h3><div class=wip>{{kanbanColumn.cards.length}} of {{column.wip | wip}}</div></div><div class=column-content rui-sortable=kanbanBoard.sortableOptions ng-model=kanbanColumn.cards><div rui-card="" ng-repeat="card1 in kanbanColumn.cards" ng-controller="KanbanCardCtrl as cardCtrl" ng-model=card1 column=kanbanColumn ng-class="{ready:card1.Ready, blocked:card1.Blocked}" color=card1.color></div></div></div></div></div>')}]),angular.module("rui.templates").run(["$templateCache",function(a){a.put("rui/cardboard/template/rui-card.html",'<div class=rui-card><div class=card-color></div><div class=card-content><span aria-hidden=true class="picto icon-defect" ng-if="model.type == \'defect\'"></span><div class=avatar><img class=small ng-src="{{ model.avatarUrl }}"></div><div class=card-owner>{{ model.ownerName }}</div><div class=card-id>{{ model.formattedId }}</div><div class=card-field ng-repeat="field in model.fields">{{ field.value }}</div><div ng-transclude=""></div></div></div>'),a.put("rui/cardboard/template/rui-column-scrollbars.html",'<i class="picto icon-small-chevron-left scroll left" ng-show=model.canScrollLeft ng-click=model.scrollLeft()></i><i class="picto icon-small-chevron-right scroll right" ng-show=model.canScrollRight ng-click=model.scrollRight()></i>'),a.put("rui/cardboard/template/rui-column.html",'<div class=rui-column ng-style="{width: width}"></div>'),a.put("rui/dropdown/templates/dropdown-item.html",'<li ng-class="{active: $dropdownItem.isSelected, disabled: $dropdownItem.isDisabled}" ng-click=$dropdownItem.select() class=dropdown-item></li>'),a.put("rui/dropdown/templates/dropdown.html",'<div ng-class="{open: $dropdown.isOpen}" class=dropdown-container><div ng-click=$dropdown.toggleOpen() class="field dropdown"><span class=rui-dropdown-label-container></span><span ng-click=$dropdown.toggle() class="icons icon-chevron-down"></span></div></div>'),a.put("rui/highcharts/templates/highcharts.html","<div class=rui-hightcharts><div class=rui-highcharts-container></div><div class=rui-highcharts-html-container></div></div>"),a.put("rui/menu/quickmenu/template/rui-quickmenu.html",'<div class="picto icon-{{item.icon}}" title={{item.title}} ng-repeat="item in items"></div>'),a.put("rui/tabs/templates/tab-content.html",'<div rui-transclude="" ng-class=$tab.contentClasses() class=tab-pane></div>'),a.put("rui/tabs/templates/tab-heading.html",'<li ng-class=$tab.headingClasses()><a rui-transclude="" ng-click=$tab.select()></a></li>'),a.put("rui/tabs/templates/tabset.html",'<div class=rui-tabset><ul class="nav nav-tabs"></ul><div class=tab-content></div><div rui-transclude=".rui-tab, [rui-tab]" class="tabs meta"></div></div>'),a.put("rui/util/transclude/templates/transclude-meta.html","<div class=rui-transclude-meta></div>")
}]);